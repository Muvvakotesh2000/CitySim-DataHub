# CitySim DataHub ğŸš€
ğŸ“¡ **Real-Time Smart City Data Streaming, Processing, and Analytics**  

![CitySim DataHub](image.png) _(Replace with actual image link if needed)_

---

## ğŸ“Œ Overview
**CitySim DataHub** is a **real-time data processing and analytics platform** designed to monitor and analyze **environmental conditions, IoT sensor data, public services, traffic, and utilities**. Using **Apache Kafka, Apache Spark, AWS (S3, Glue, Redshift, OpenSearch), and Terraform**, it enables **efficient city management** through **data-driven insights**.

---

## âš¡ Features
âœ… **Simulated IoT & Smart City Data** â€“ Real-time data generation for environment, traffic, utilities, and public services.  
âœ… **Apache Kafka Streaming** â€“ High-throughput message brokering for real-time data ingestion.  
âœ… **Apache Spark Processing** â€“ Structured Streaming for transforming, aggregating, and analyzing data.  
âœ… **AWS Cloud Infrastructure** â€“ S3 for storage, Glue for ETL, Redshift for warehousing, OpenSearch for analytics.  
âœ… **Automated Pipelines with Terraform & AWS Lambda** â€“ Fully automated deployment and scheduled jobs.  
âœ… **Live Dashboards with OpenSearch & Tableau** â€“ Interactive city insights for urban planners & decision-makers.  

---

## ğŸ› ï¸ Tech Stack
- **Programming Languages**: Python  
- **Data Streaming & Processing**: Apache Kafka, Apache Spark  
- **Cloud Services**: AWS (S3, Glue, Redshift, OpenSearch, Lambda, EventBridge)  
- **Infrastructure as Code**: Terraform  
- **Visualization**: OpenSearch, Tableau  
- **ETL & Automation**: AWS Glue, AWS Lambda  

---

## ğŸ“‚ Project Structure
```
CitySim DataHub
â”‚â”€â”€ AWS Scripts/                     # AWS Glue & Lambda scripts
â”‚â”€â”€ configs/                          # Kafka & Spark configuration files
â”‚â”€â”€ csv_exports/                      # Processed & aggregated CSV data
â”‚â”€â”€ data/                              # Data schema & lookup files
â”‚â”€â”€ infrastructure/terraform/          # Terraform scripts for AWS deployment
â”‚â”€â”€ kafka_producers/                   # Kafka producers for IoT, environment, etc.
â”‚â”€â”€ logs/                              # Logs & debugging info
â”‚â”€â”€ screenshots/                       # Visuals of dashboards & AWS setup
â”‚â”€â”€ scripts/                           # Data generation scripts
â”‚â”€â”€ spark_consumer/                     # Spark consumer to process Kafka data
â”‚â”€â”€ venv/                              # Virtual environment (Python dependencies)
â”‚â”€â”€ requirements.txt                   # Python dependencies
â”‚â”€â”€ README.md                          # Documentation (this file)
â”‚â”€â”€ CitySim.docx                        # Detailed project document
â”‚â”€â”€ RealStreamingDatabase.twbx         # Tableau dashboard file
```

---

## ğŸš€ Setup & Installation
### 1ï¸âƒ£ Prerequisites
Ensure you have the following installed:
- **Python 3.8+**  
- **Apache Kafka**  
- **Apache Spark**  
- **Terraform**  
- **AWS CLI & Terraform CLI**  

### 2ï¸âƒ£ Clone the Repository
```bash
git clone https://github.com/Muvvakotesh2000/CitySim-DataHub.git
cd CitySim-DataHub
```

### 3ï¸âƒ£ Install Dependencies
```bash
pip install -r requirements.txt
```

### 4ï¸âƒ£ Start Kafka & Zookeeper
```bash
# Start Zookeeper
bin/zookeeper-server-start.sh config/zookeeper.properties

# Start Kafka Server
bin/kafka-server-start.sh config/server.properties
```

### 5ï¸âƒ£ Run Kafka Producers
```bash
python kafka_producers/run_producers.py
```

### 6ï¸âƒ£ Start Spark Consumer
```bash
python spark_consumer/spark_kafka_consumer.py
```

### 7ï¸âƒ£ Deploy AWS Infrastructure
```bash
cd infrastructure/terraform
terraform init
terraform apply -auto-approve
```

### 8ï¸âƒ£ Run AWS Glue Jobs
```bash
python AWS\ Scripts/pushS3ToOS.py
python AWS\ Scripts/merge_hourly.py
```

---

## ğŸ“Š Data Pipeline
1ï¸âƒ£ **Simulated IoT & City Data** â†’ Generated by **Python scripts**  
2ï¸âƒ£ **Real-Time Streaming** â†’ Kafka **produces data every 5 seconds**  
3ï¸âƒ£ **Data Processing** â†’ Spark **reads, transforms & writes** processed data  
4ï¸âƒ£ **Storage & ETL** â†’ AWS **S3 (raw), Glue (ETL), Redshift (warehouse)**  
5ï¸âƒ£ **Visualization & Analytics** â†’ AWS **OpenSearch & Tableau**  

---

## ğŸ“Š Visualization & Dashboards
- **OpenSearch** â†’ Live analytics for monitoring city metrics.  
- **Tableau** â†’ CSV exports from OpenSearch for advanced visualization.  
- **AWS Glue & Redshift** â†’ For historical & large-scale data analytics.  

---

## ğŸ”„ Scheduled Jobs
ğŸ•’ **Hourly**: AWS Glue merges processed data â†’ Redshift.  
ğŸ•’ **Daily (11:40 PM)**: Glue flattens raw data â†’ S3.  
ğŸ•’ **Nightly (11:45 PM)**: Redshift loads flattened data â†’ Data Warehouse.  
ğŸ•’ **Midnight Cleanup (12:00 PM)**: Lambda clears old data â†’ Fresh day!  

---

## ğŸ‘¥ Contributors
- **[Koteswara Rao Muvva](https://github.com/Muvvakotesh2000)** â€“ Project Lead & Developer  
- **Open to Collaboration!** If you're passionate about **Big Data, Streaming, and Cloud**, feel free to contribute! ğŸš€  

---

## ğŸ¤ Contributing
1ï¸âƒ£ **Fork the repository**  
2ï¸âƒ£ **Create a new branch** (`feature-new`)  
3ï¸âƒ£ **Commit your changes** (`git commit -m "Added new feature"`)  
4ï¸âƒ£ **Push and create a Pull Request (PR)**  

---

## ğŸ“œ License
ğŸ“ **MIT License** â€“ Feel free to use, modify, and distribute!  

---

## ğŸ“ Contact
ğŸ“§ Email: muvvakoteshyadav@gmail.com  
ğŸŒ LinkedIn: [Your LinkedIn](https://www.linkedin.com/in/koteswararaomuvva/)  

---

### ğŸš€ **Built for the Future of Smart Cities!**
**Let's make cities smarter, more efficient, and data-driven!** ğŸŒğŸ’¡  

ğŸ”— **Star â­ this repository** if you find it useful!  
ğŸ’¬ Drop a comment if you have suggestions!  

---

### **#SmartCities #BigData #Kafka #Spark #AWS #ETL #Terraform #DataEngineering #OpenSearch #Redshift #CitySimDataHub**  
