# CitySim DataHub ğŸš€  
ğŸ“¡ **Real-Time Smart City Data Streaming, Processing, and Analytics**  

![CitySim DataHub](https://github.com/Muvvakotesh2000/CitySim-DataHub/blob/main/Screenshots/Dashboard.png?raw=true)

---

## ğŸ“Œ Overview  
**CitySim DataHub** is a **real-time data processing and analytics platform** designed to monitor and analyze **environmental conditions, IoT sensor data, public services, traffic, and utilities**. Using **Apache Kafka, Apache Spark, AWS (S3, Glue, Redshift, OpenSearch), and Terraform**, it enables **efficient city management** through **data-driven insights**.

---

## âš¡ Features  
âœ… **Real-time IoT & Smart City Data** â€“ Simulated live feeds for various urban systems.  
âœ… **Apache Kafka Streaming** â€“ High-throughput message brokering for real-time data ingestion.  
âœ… **Apache Spark Processing** â€“ Structured Streaming for transforming, aggregating, and analyzing data.  
âœ… **AWS Cloud Infrastructure** â€“ S3 for storage, Glue for ETL, Redshift for warehousing, OpenSearch for analytics.  
âœ… **Live Dashboards with OpenSearch & Tableau** â€“ Interactive city insights for urban planners & decision-makers.  

---

## ğŸ› ï¸ Tech Stack  
- **Programming Languages**: Python  
- **Data Streaming & Processing**: Apache Kafka, Apache Spark  
- **Cloud Services**: AWS (S3, Glue, Redshift, OpenSearch, Lambda, EventBridge)  
- **Infrastructure as Code**: Terraform  
- **Visualization**: OpenSearch, Tableau  

---

## ğŸ“‚ Project Structure  
```
CitySim DataHub
â”‚â”€â”€ AWS Scripts/                     # AWS Glue & Lambda scripts
â”‚â”€â”€ configs/                          # Kafka & Spark configuration files
â”‚â”€â”€ csv_exports/                      # Processed & aggregated CSV data
â”‚â”€â”€ data/                              # Data schema & lookup files
â”‚â”€â”€ infrastructure/terraform/          # Terraform scripts for AWS deployment
â”‚â”€â”€ kafka_producers/                   # Kafka producers for IoT, environment, etc.
â”‚â”€â”€ logs/                              # Logs & debugging info
â”‚â”€â”€ screenshots/                       # Visuals of dashboards & AWS setup
â”‚â”€â”€ scripts/                           # Data generation scripts
â”‚â”€â”€ spark_consumer/                     # Spark consumer to process Kafka data
â”‚â”€â”€ requirements.txt                   # Python dependencies
â”‚â”€â”€ README.md                          # Documentation (this file)
â”‚â”€â”€ CitySim.docx                        # Detailed project document
â”‚â”€â”€ RealStreamingDatabase.twbx         # Tableau dashboard file
```

---

## ğŸš€ Setup & Installation  

### 1ï¸âƒ£ Prerequisites  
Ensure you have the following installed:  
- **Python 3.8+**  
- **Apache Kafka**  
- **Apache Spark**  
- **Terraform**  
- **AWS CLI & Terraform CLI**  

---

### 2ï¸âƒ£ Install Dependencies  
```bash
pip install -r requirements.txt
```

---

### 3ï¸âƒ£ Start Apache Kafka & Zookeeper  
```bash
# Start Zookeeper
bin/zookeeper-server-start.sh config/zookeeper.properties

# Start Kafka Server
bin/kafka-server-start.sh config/server.properties
```
![Zookeeper Running](https://github.com/Muvvakotesh2000/CitySim-DataHub/blob/main/Screenshots/Zookeeper.png?raw=true)  
![Kafka Server Running](https://github.com/Muvvakotesh2000/CitySim-DataHub/blob/main/Screenshots/Apache%20Kafka.png?raw=true)  

---

### 4ï¸âƒ£ Run Kafka Producers  
```bash
python kafka_producers/run_producers.py
```
![Kafka Producer](https://github.com/Muvvakotesh2000/CitySim-DataHub/blob/main/Screenshots/Kafka%20Producer.png?raw=true)  

---

### 5ï¸âƒ£ Start Spark Consumer  
```bash
python spark_consumer/spark_kafka_consumer.py
```
![Spark Consumer Running](https://github.com/Muvvakotesh2000/CitySim-DataHub/blob/main/Screenshots/Apache%20Spark.png?raw=true)  

---

### 6ï¸âƒ£ Deploy AWS Infrastructure using Terraform  
```bash
cd infrastructure/terraform
terraform init
terraform apply -auto-approve
```

---

### 7ï¸âƒ£ AWS S3 Bucket Setup  
Create S3 buckets manually or using Terraform.  
- `citysim-raw-data-bucket` â†’ Stores raw data.  
- `citysim-processed-data-bucket` â†’ Stores processed data.  
![S3 Buckets](https://github.com/Muvvakotesh2000/CitySim-DataHub/blob/main/Screenshots/Raw%20S3%20Bucket.png?raw=true)  
![Processed S3](https://github.com/Muvvakotesh2000/CitySim-DataHub/blob/main/Screenshots/Processed%20S3%20Bucket.png?raw=true)  

---

### 8ï¸âƒ£ Run AWS Glue Jobs  
```bash
python AWS\ Scripts/pushS3ToOS.py
python AWS\ Scripts/merge_hourly.py
```

---

### 9ï¸âƒ£ Visualize Data with OpenSearch & Tableau  
- Connect OpenSearch to fetch real-time insights.  
- Use Tableau to create interactive dashboards.  
![CitySim Dashboard](https://github.com/Muvvakotesh2000/CitySim-DataHub/blob/main/Screenshots/Dashboard.png?raw=true)  

---

## ğŸ“Š Data Pipeline  
1ï¸âƒ£ **Simulated IoT & City Data** â†’ Generated by **Python scripts**  
2ï¸âƒ£ **Real-Time Streaming** â†’ Kafka **produces data every 5 seconds**  
3ï¸âƒ£ **Data Processing** â†’ Spark **reads, transforms & writes** processed data  
4ï¸âƒ£ **Storage & ETL** â†’ AWS **S3 (raw), Glue (ETL), Redshift (warehouse)**  
5ï¸âƒ£ **Visualization & Analytics** â†’ AWS **OpenSearch & Tableau**  

---

## ğŸ”„ Scheduled Jobs  
ğŸ•’ **Hourly**: AWS Glue merges processed data â†’ Redshift.  
ğŸ•’ **Daily (11:40 PM)**: Glue flattens raw data â†’ S3.  
ğŸ•’ **Nightly (11:45 PM)**: Redshift loads flattened data â†’ Data Warehouse.  
ğŸ•’ **Midnight Cleanup (12:00 PM)**: Lambda clears old data â†’ Fresh day!  

---

## ğŸ‘¥ Contributors  
- **[Koteswara Rao Muvva](https://github.com/Muvvakotesh2000)** â€“ Project Lead & Developer  
- **Open to Collaboration!** If you're passionate about **Big Data, Streaming, and Cloud**, feel free to contribute! ğŸš€  

---

## ğŸ¤ Contributing  
1ï¸âƒ£ **Fork the repository**  
2ï¸âƒ£ **Create a new branch** (`feature-new`)  
3ï¸âƒ£ **Commit your changes** (`git commit -m "Added new feature"`)  
4ï¸âƒ£ **Push and create a Pull Request (PR)**  

---

## ğŸ“œ License  
ğŸ“ **MIT License** â€“ Feel free to use, modify, and distribute!  

---

## ğŸ“ Contact  
ğŸ“§ Email: muvvakoteshyadav@gmail.com  
ğŸŒ LinkedIn: [Koteswara Rao Muvva](https://www.linkedin.com/in/koteswararaomuvva/)  

---

### ğŸš€ **Built for the Future of Smart Cities!**  
**Let's make cities smarter, more efficient, and data-driven!** ğŸŒğŸ’¡  

ğŸ”— **Star â­ this repository** if you find it useful!  
ğŸ’¬ Drop a comment if you have suggestions!  

---

### **#SmartCities #BigData #Kafka #Spark #AWS #ETL #Terraform #DataEngineering #OpenSearch #Redshift #CitySimDataHub**  
